"use strict";(self.webpackChunkddangkong_frontend=self.webpackChunkddangkong_frontend||[]).push([[993],{"./src/pages/GamePage/GamePage.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>GamePage_stories,게임_화면:()=>게임_화면});var AsyncErrorBoundary=__webpack_require__("./src/components/common/ErrorBoundary/AsyncErrorBoundary.tsx"),GameSkeleton=__webpack_require__("./src/components/common/Skeleton/GameSkeleton/GameSkeleton.tsx"),Content=__webpack_require__("./src/components/layout/Content/Content.tsx"),Header=__webpack_require__("./src/components/layout/Header/Header.tsx"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js");const hooks_useSelectOption=()=>{const[selectedOption,setSelectedOption]=(0,react.useState)({id:0,isCompleted:!1});return{selectedOption,handleClickOption:selectedId=>{setSelectedOption((prev=>({...prev,id:selectedId})))},completeSelection:()=>{setSelectedOption((prev=>({...prev,isCompleted:!0})))}}};const selectContainerLayout={name:"8ui0sg",styles:"display:flex;flex-basis:40%;flex-direction:column;justify-content:space-between;align-items:center;gap:5.6rem;width:100%"},selectSection={name:"1njj77k",styles:"display:flex;justify-content:space-between;align-items:center;gap:1.2rem;font-weight:bold;font-size:2rem"};var Timer=__webpack_require__("./src/components/SelectContainer/Timer/Timer.tsx"),SelectButton_hook=__webpack_require__("./src/components/common/SelectButton/SelectButton.hook.ts"),Button=__webpack_require__("./src/components/common/Button/Button.tsx"),Button_styled=__webpack_require__("./src/components/common/Button/Button.styled.ts"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const SelectButton=({contentId,selectedId,completeSelection})=>{const{data,isPending,mutate:vote}=(0,SelectButton_hook.A)({selectedId,contentId,completeSelection});return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:Button_styled.e,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,{bottom:!0,disabled:data||!selectedId||isPending,text:data||isPending?"선택 완료":"선택",onClick:vote})})},SelectButton_SelectButton=SelectButton;SelectButton.__docgenInfo={description:"",methods:[],displayName:"SelectButton",props:{contentId:{required:!0,tsType:{name:"number"},description:""},selectedId:{required:!0,tsType:{name:"number"},description:""},completeSelection:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var SelectOption=__webpack_require__("./src/components/SelectOption/SelectOption.tsx"),useBalanceContentQuery=__webpack_require__("./src/hooks/useBalanceContentQuery.ts");const SelectContainer=()=>{const{roomId}=(0,dist.g)(),{balanceContent}=(0,useBalanceContentQuery.A)(Number(roomId)),{selectedOption,handleClickOption,completeSelection}=hooks_useSelectOption();return(0,emotion_react_jsx_runtime_browser_esm.FD)("div",{css:selectContainerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Timer.A,{selectedId:selectedOption.id,isVoted:selectedOption.isCompleted,completeSelection}),(0,emotion_react_jsx_runtime_browser_esm.FD)("section",{css:selectSection,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(SelectOption.A,{option:balanceContent.firstOption,selectedOption,handleClickOption}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{children:"VS"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SelectOption.A,{option:balanceContent.secondOption,selectedOption,handleClickOption})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SelectButton_SelectButton,{contentId:balanceContent.contentId,selectedId:selectedOption.id,completeSelection})]})},SelectContainer_SelectContainer=SelectContainer;SelectContainer.__docgenInfo={description:"",methods:[],displayName:"SelectContainer"};var TopicContainer=__webpack_require__("./src/components/TopicContainer/TopicContainer.tsx");const GamePage=()=>(0,emotion_react_jsx_runtime_browser_esm.FD)(AsyncErrorBoundary.A,{pendingFallback:(0,emotion_react_jsx_runtime_browser_esm.Y)(GameSkeleton.A,{}),children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Header.gK,{}),(0,emotion_react_jsx_runtime_browser_esm.FD)(Content.A,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(TopicContainer.A,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SelectContainer_SelectContainer,{})]})]}),GamePage_GamePage=GamePage;GamePage.__docgenInfo={description:"",methods:[],displayName:"GamePage"};const GamePage_stories={title:"page/GamePage",component:GamePage_GamePage},게임_화면={},__namedExportsOrder=["게임_화면"];게임_화면.parameters={...게임_화면.parameters,docs:{...게임_화면.parameters?.docs,source:{originalSource:"{}",...게임_화면.parameters?.docs?.source}}}},"./src/components/SelectOption/SelectOption.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SelectOption_SelectOption});var emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),Theme=__webpack_require__("./src/styles/Theme.ts");var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const SelectOption=({option,selectedOption,handleClickOption})=>{const{id:selectedId,isCompleted}=selectedOption;return(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{css:(selected=Boolean(selectedId===option.optionId),isSelected=isCompleted,(0,emotion_react_browser_esm.AH)("display:flex;justify-content:center;align-items:center;width:11.6rem;height:16.8rem;padding:1.6rem;border-radius:3rem;background-color:",selected?Theme.S.color.peanut500:Theme.S.color.peanut300,";cursor:",isSelected?"not-allowed":"pointer",";opacity:",isSelected?Theme.S.opacity.disabled:Theme.S.opacity.default,";color:#000;font-weight:bold;font-size:1.6rem;line-height:2.4rem;text-align:center;word-break:keep-all;transition:all 0.5s;scale:",selected?1.1:1,";","")),onClick:()=>handleClickOption(option.optionId),disabled:isCompleted,children:option.name});var selected,isSelected},SelectOption_SelectOption=SelectOption;SelectOption.__docgenInfo={description:"",methods:[],displayName:"SelectOption",props:{option:{required:!0,tsType:{name:"BalanceContent['firstOption']",raw:"BalanceContent['firstOption']"},description:""},selectedOption:{required:!0,tsType:{name:"SelectedOption"},description:""},handleClickOption:{required:!0,tsType:{name:"signature",type:"function",raw:"(selectedId: number) => void",signature:{arguments:[{type:{name:"number"},name:"selectedId"}],return:{name:"void"}}},description:""}}}},"./src/components/TopicContainer/TopicContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TopicContainer_TopicContainer});var dist=__webpack_require__("./node_modules/react-router/dist/index.js");const topicContainerLayout={name:"1u3km2u",styles:"display:flex;flex-basis:20%;flex-direction:column;justify-content:center;align-items:center;gap:2rem"},categoryText={name:"ywz92v",styles:"font-weight:bold;font-size:1.2rem"},topicText={name:"1akzvke",styles:"font-weight:bold;font-size:1.6rem"};var routes=__webpack_require__("./src/constants/routes.ts"),useBalanceContentQuery=__webpack_require__("./src/hooks/useBalanceContentQuery.ts"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const TopicContainer=()=>{const location=(0,dist.zy)(),{roomId}=(0,dist.g)(),{balanceContent}=(0,useBalanceContentQuery.A)(Number(roomId)),isGamePage=location.pathname===routes.b.game(Number(roomId));return(0,emotion_react_jsx_runtime_browser_esm.FD)("section",{css:topicContainerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:categoryText,children:isGamePage&&balanceContent.category}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:topicText,children:balanceContent.question})]})},TopicContainer_TopicContainer=TopicContainer;TopicContainer.__docgenInfo={description:"",methods:[],displayName:"TopicContainer"}},"./src/components/common/Skeleton/GameSkeleton/GameSkeleton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>GameSkeleton_GameSkeleton});const skeletonLayout={name:"114q6m2",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;width:85%;height:100vh;margin:0 auto;border-radius:8px"},skeletonCategory={name:"1oaidkp",styles:"width:100%;height:15vh;border-radius:0.8rem 0.8rem 0 0;background:linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);background-size:400%;animation:skeleton-animation 5s ease infinite;@keyframes skeleton-animation{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},skeletonText={name:"qg3dxc",styles:"width:100%;height:3.6rem;border-radius:0.4rem;background:linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);background-size:400%;animation:skeleton-animation 5s ease infinite;@keyframes skeleton-animation{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},skeletonOptionContainer={name:"tjxbje",styles:"width:100%;height:35vh;border-radius:4px;background:linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);background-size:400%;animation:skeleton-animation 5s ease infinite;@keyframes skeleton-animation{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"};var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const GameSkeleton=()=>(0,emotion_react_jsx_runtime_browser_esm.FD)("div",{css:skeletonLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:skeletonCategory}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:skeletonText,"aria-label":"로딩중"}),(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:skeletonOptionContainer})]}),GameSkeleton_GameSkeleton=GameSkeleton;GameSkeleton.__docgenInfo={description:"",methods:[],displayName:"GameSkeleton"}},"./src/components/layout/Header/Header.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{tT:()=>BackHeader,v4:()=>RoomSettingHeader,gK:()=>RoundHeader,Ub:()=>TitleHeader,Ay:()=>Header_Header});var dist=__webpack_require__("./node_modules/react-router/dist/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const headerLayout=isCenter=>(0,emotion_react_browser_esm.AH)("display:flex;justify-content:",isCenter?"center":"space-between",";align-items:center;height:15vh;padding:0 2.4rem;",""),roundText={name:"1icein2",styles:"display:flex;align-items:center;width:2.4rem;height:2.4rem;font-weight:bold;font-size:1.6rem"},buttonWrapper={name:"1ocs895",styles:"display:flex;justify-content:center;align-items:center;width:2rem;height:2rem"},gameTitle={name:"1anrxxk",styles:"font-weight:bold;font-size:2rem"},iconImage={name:"fmrzco",styles:"display:flex;align-items:center;width:2.4rem;height:2.4rem"};var react=__webpack_require__("./node_modules/react/index.js");var useMutation=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useMutation.js"),room=__webpack_require__("./src/apis/room.ts"),atom=__webpack_require__("./src/recoil/atom.ts");var routes=__webpack_require__("./src/constants/routes.ts");const hooks_useRoutePath=()=>{const location=(0,dist.zy)(),{roomId}=(0,dist.g)(),currentPath={isNicknamePage:location.pathname.startsWith(routes.b.nickname),isReadyPage:location.pathname===routes.b.ready(Number(roomId)),isFinalResultPage:location.pathname===routes.b.gameResult(Number(roomId)),isRoundResultStatusPage:location.pathname===routes.b.roundResultStatus(Number(roomId))};return{isNicknamePage:currentPath.isNicknamePage,isReadyPage:currentPath.isReadyPage,isRoundResultStatusPage:currentPath.isRoundResultStatusPage,isFinalResultPage:currentPath.isFinalResultPage}},arrowLeft_namespaceObject=__webpack_require__.p+"static/media/arrowLeft.d6435a9d.svg",exitIcon_namespaceObject=__webpack_require__.p+"static/media/exitIcon.88be77da.png",settingsIcon_namespaceObject=__webpack_require__.p+"static/media/settingsIcon.8588567d.svg";var RoomSettingModal=__webpack_require__("./src/components/common/RoomSettingModal/RoomSettingModal.tsx"),useBalanceContentQuery=__webpack_require__("./src/hooks/useBalanceContentQuery.ts"),useModal=__webpack_require__("./src/hooks/useModal.ts"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Header=()=>{const{isNicknamePage,isReadyPage,isRoundResultStatusPage}=hooks_useRoutePath();return(0,react.useEffect)((()=>{const handleKeyDown=event=>{("F5"===event.key||event.ctrlKey&&"r"===event.key)&&event.preventDefault()};window.addEventListener("keydown",handleKeyDown);const handleBeforeUnload=event=>{event.preventDefault(),alert("새로고침 시 게임에서 나가질 수 있습니다")};return window.addEventListener("beforeunload",handleBeforeUnload),()=>{window.removeEventListener("keydown",handleKeyDown),window.removeEventListener("beforeunload",handleBeforeUnload)}}),[]),isNicknamePage?(0,emotion_react_jsx_runtime_browser_esm.Y)(TitleHeader,{title:"닉네임 설정"}):isReadyPage?(0,emotion_react_jsx_runtime_browser_esm.Y)(RoomSettingHeader,{title:"밸런스 게임"}):isRoundResultStatusPage?(0,emotion_react_jsx_runtime_browser_esm.Y)(BackHeader,{title:"투표 현황"}):(0,emotion_react_jsx_runtime_browser_esm.Y)(EmptyHeader,{})},EmptyHeader=()=>(0,emotion_react_jsx_runtime_browser_esm.Y)("header",{css:headerLayout()}),TitleHeader=({title})=>(0,emotion_react_jsx_runtime_browser_esm.Y)("header",{css:headerLayout(!0),children:(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title})}),RoomSettingHeader=({title})=>{const{show}=(0,useModal.A)(),{handleExit}=(()=>{const{memberId}=(0,es.vc)(atom.u),navigate=(0,dist.Zp)(),{roomId}=(0,dist.g)(),exitRoomMutation=(0,useMutation.n)({mutationFn:({roomId,memberId})=>(0,room.Gn)(roomId,memberId),onSuccess:()=>{navigate("/")}});return{handleExit:()=>{exitRoomMutation.mutate({roomId:Number(roomId),memberId:Number(memberId)})}}})(),memberInfo=(0,es.vc)(atom.u);return(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout(),children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{onClick:handleExit,css:buttonWrapper,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:exitIcon_namespaceObject,alt:"방 나가기",css:iconImage})}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),memberInfo.isMaster?(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{onClick:()=>{show(RoomSettingModal.A)},css:buttonWrapper,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:settingsIcon_namespaceObject,alt:"방 설정",css:iconImage})}):(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText})]})},RoundHeader=()=>{const{roomId}=(0,dist.g)(),isRoundResultPage=location.pathname===routes.b.roundResult(Number(roomId)),{balanceContent}=(0,useBalanceContentQuery.A)(Number(roomId)),title=isRoundResultPage?"투표 결과":"밸런스 게임";return(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout(),children:[(0,emotion_react_jsx_runtime_browser_esm.FD)("span",{css:roundText,children:[balanceContent.currentRound,"/",balanceContent.totalRound]}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText})]})},BackHeader=({title})=>{const navigate=(0,dist.Zp)();return(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout(),children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{onClick:()=>{navigate(-1)},css:buttonWrapper,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:arrowLeft_namespaceObject,alt:"뒤로 가기"})}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText})]})},Header_Header=Header;EmptyHeader.__docgenInfo={description:"",methods:[],displayName:"EmptyHeader"},TitleHeader.__docgenInfo={description:"",methods:[],displayName:"TitleHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},RoomSettingHeader.__docgenInfo={description:"",methods:[],displayName:"RoomSettingHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},RoundHeader.__docgenInfo={description:"",methods:[],displayName:"RoundHeader"},BackHeader.__docgenInfo={description:"",methods:[],displayName:"BackHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},Header.__docgenInfo={description:"",methods:[],displayName:"Header"}}}]);