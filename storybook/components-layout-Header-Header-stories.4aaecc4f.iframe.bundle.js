"use strict";(self.webpackChunkddangkong_frontend=self.webpackChunkddangkong_frontend||[]).push([[594],{"./src/components/layout/Header/Header.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>Header_stories,가운데_제목_헤더:()=>가운데_제목_헤더,라운드_헤더:()=>라운드_헤더,방_설정_헤더:()=>방_설정_헤더,투표_현황_헤더:()=>투표_현황_헤더});var dist=__webpack_require__("./node_modules/react-router/dist/index.js");const headerLayout={name:"bl5ssa",styles:"display:flex;justify-content:space-between;align-items:center;height:8rem;padding:0 2.4rem"},roundText={name:"1icein2",styles:"display:flex;align-items:center;width:2.4rem;height:2.4rem;font-weight:bold;font-size:1.6rem"},emptyBox={name:"1dn2b8q",styles:"width:1.6rem;height:1.6rem"},buttonWrapper={name:"1hfworn",styles:"display:flex;justify-content:center;align-items:center;width:2.4rem;height:2.4rem"},gameTitle={name:"1akzvke",styles:"font-weight:bold;font-size:1.6rem"},settingImage={name:"1pgtxwn",styles:"display:flex;align-items:center;width:1.6rem;height:1.6rem"};var routes=__webpack_require__("./src/constants/routes.ts");const hooks_useRoutePath=()=>{const location=(0,dist.zy)(),{roomId}=(0,dist.g)(),currentPath={isNicknamePage:location.pathname===routes.b.nickname,isReadyPage:location.pathname===routes.b.ready(Number(roomId)),isFinalResultPage:location.pathname===routes.b.gameResult(Number(roomId)),isRoundResultStatusPage:location.pathname===routes.b.roundResultStatus(Number(roomId))};return{isNicknamePage:currentPath.isNicknamePage,isReadyPage:currentPath.isReadyPage,isRoundResultStatusPage:currentPath.isRoundResultStatusPage,isFinalResultPage:currentPath.isFinalResultPage}},arrowLeft_namespaceObject=__webpack_require__.p+"static/media/arrowLeft.d6435a9d.svg",settingsIcon_namespaceObject=__webpack_require__.p+"static/media/settingsIcon.8588567d.svg";var RoomSettingModal=__webpack_require__("./src/components/common/RoomSettingModal/RoomSettingModal.tsx"),useBalanceContentQuery=__webpack_require__("./src/hooks/useBalanceContentQuery.ts"),react=__webpack_require__("./node_modules/react/index.js");const hooks_useModal=()=>{const[isOpen,setIsOpen]=(0,react.useState)(!1);return{isOpen,show:()=>{setIsOpen(!0)},close:()=>{setIsOpen(!1)}}};var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const Header=()=>{const{isNicknamePage,isReadyPage,isRoundResultStatusPage,isFinalResultPage}=hooks_useRoutePath();return isNicknamePage?(0,emotion_react_jsx_runtime_browser_esm.Y)(TitleHeader,{title:"닉네임 설정"}):isReadyPage?(0,emotion_react_jsx_runtime_browser_esm.Y)(RoomSettingHeader,{title:"밸런스 게임"}):isRoundResultStatusPage?(0,emotion_react_jsx_runtime_browser_esm.Y)(BackHeader,{title:"투표 현황"}):isFinalResultPage?(0,emotion_react_jsx_runtime_browser_esm.Y)(EmptyHeader,{}):(0,emotion_react_jsx_runtime_browser_esm.Y)(RoundHeader,{})},EmptyHeader=()=>(0,emotion_react_jsx_runtime_browser_esm.Y)("header",{css:headerLayout}),TitleHeader=({title})=>(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{})]}),RoomSettingHeader=({title})=>{const{isOpen,show,close}=hooks_useModal();return(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:emptyBox}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{onClick:show,css:buttonWrapper,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:settingsIcon_namespaceObject,alt:"방 설정",css:settingImage})}),isOpen&&(0,emotion_react_jsx_runtime_browser_esm.Y)(RoomSettingModal.A,{isOpen,onClose:close})]})},RoundHeader=()=>{const{roomId}=(0,dist.g)(),isRoundResultPage=location.pathname===routes.b.roundResult(Number(roomId)),{balanceContent}=(0,useBalanceContentQuery.A)(Number(roomId)),title=isRoundResultPage?"투표 결과":"밸런스 게임";return balanceContent?(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText,children:`${balanceContent?.currentRound}/${balanceContent?.totalRound}`}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText})]}):null},BackHeader=({title})=>{const navigate=(0,dist.Zp)();return(0,emotion_react_jsx_runtime_browser_esm.FD)("header",{css:headerLayout,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("button",{onClick:()=>{navigate(-1)},css:buttonWrapper,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:arrowLeft_namespaceObject,alt:"뒤로 가기"})}),(0,emotion_react_jsx_runtime_browser_esm.Y)("h1",{css:gameTitle,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:roundText})]})},Header_Header=Header;EmptyHeader.__docgenInfo={description:"",methods:[],displayName:"EmptyHeader"},TitleHeader.__docgenInfo={description:"",methods:[],displayName:"TitleHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},RoomSettingHeader.__docgenInfo={description:"",methods:[],displayName:"RoomSettingHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},RoundHeader.__docgenInfo={description:"",methods:[],displayName:"RoundHeader"},BackHeader.__docgenInfo={description:"",methods:[],displayName:"BackHeader",props:{title:{required:!0,tsType:{name:"string"},description:""}}},Header.__docgenInfo={description:"",methods:[],displayName:"Header"};const Header_stories={title:"Header",component:Header_Header},가운데_제목_헤더={render:()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(TitleHeader,{title:"가운데 제목 헤더"})},방_설정_헤더={render:()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(RoomSettingHeader,{title:"방 설정 헤더"})},라운드_헤더={render:()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(RoundHeader,{})},투표_현황_헤더={render:()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(BackHeader,{title:"투표 현황"})},__namedExportsOrder=["가운데_제목_헤더","방_설정_헤더","라운드_헤더","투표_현황_헤더"];가운데_제목_헤더.parameters={...가운데_제목_헤더.parameters,docs:{...가운데_제목_헤더.parameters?.docs,source:{originalSource:'{\n  render: () => <TitleHeader title="가운데 제목 헤더" />\n}',...가운데_제목_헤더.parameters?.docs?.source}}},방_설정_헤더.parameters={...방_설정_헤더.parameters,docs:{...방_설정_헤더.parameters?.docs,source:{originalSource:'{\n  render: () => <RoomSettingHeader title="방 설정 헤더" />\n}',...방_설정_헤더.parameters?.docs?.source}}},라운드_헤더.parameters={...라운드_헤더.parameters,docs:{...라운드_헤더.parameters?.docs,source:{originalSource:"{\n  render: () => <RoundHeader />\n}",...라운드_헤더.parameters?.docs?.source}}},투표_현황_헤더.parameters={...투표_현황_헤더.parameters,docs:{...투표_현황_헤더.parameters?.docs,source:{originalSource:'{\n  render: () => <BackHeader title="투표 현황" />\n}',...투표_현황_헤더.parameters?.docs?.source}}}},"./src/apis/balanceContent.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gd:()=>fetchBalanceContent,O:()=>fetchRoundVoteResult,bR:()=>checkMyGameStatus});var _fetcher__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/apis/fetcher.ts"),_constants_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/url.ts");const fetchBalanceContent=async roomId=>{const res=await _fetcher__WEBPACK_IMPORTED_MODULE_0__.A.get({url:_constants_url__WEBPACK_IMPORTED_MODULE_1__.H.balanceContent(roomId)});return await res.json()},fetchRoundVoteResult=async({contentId,roomId})=>{const res=await _fetcher__WEBPACK_IMPORTED_MODULE_0__.A.get({url:_constants_url__WEBPACK_IMPORTED_MODULE_1__.H.roundVoteResult(roomId,contentId)});return await res.json()},checkMyGameStatus=async({roomId,currentRound})=>{const res=await _fetcher__WEBPACK_IMPORTED_MODULE_0__.A.get({url:_constants_url__WEBPACK_IMPORTED_MODULE_1__.H.myGameStatus(roomId,currentRound),headers:{"Content-Type":"application/json"}});return await res.json()}},"./src/constants/routes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>ROUTES});const ROUTES={main:"/",nickname:"/nickname",ready:roomId=>`/${roomId}/ready`,game:roomId=>`/${roomId}/game`,roundResult:roomId=>`/${roomId}/round/result`,roundResultVote:"/round/result/vote",gameResult:roomId=>`/${roomId}/game/result`,roundResultStatus:roomId=>`/${roomId}/round/result/status`}},"./src/hooks/useBalanceContentQuery.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),_apis_balanceContent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/apis/balanceContent.ts"),_constants_queryKeys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/queryKeys.ts");const __WEBPACK_DEFAULT_EXPORT__=roomId=>{const balanceContentQuery=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__.I)({queryKey:[_constants_queryKeys__WEBPACK_IMPORTED_MODULE_1__.e.balanceContent,Number(roomId)],queryFn:async()=>await(0,_apis_balanceContent__WEBPACK_IMPORTED_MODULE_0__.Gd)(Number(roomId))});return{...balanceContentQuery,balanceContent:balanceContentQuery.data}}}}]);